@using OnlinePriceSystem.Controllers
@using Microsoft.AspNetCore.Mvc.Rendering
@using System.Globalization

<style>
	#overlay {
		background-color: #aaaaaa;
		z-index: 999;
		position: absolute;
		left: 0;
		top: 0;
		width: 100%;
		height: 100%;
		display: none;
		opacity: .3;
	}
</style>
<div style="border:1px solid #f6a828; width:100%; display:inline-block; text-align:center; background-color:#C0C0C0;">
	<label style="display:inline; color:#666666; background-color:#C0C0C0;">My Products</label>
	<div style="position:absolute;right:0; display:inline-block;">
		<div style="display:inline-block;vertical-align:middle;"> 
			<img align="left" title='Working...' style='display:none;' class='loading' src='../Images/ajax-bar.gif' alt='Working...'> &nbsp;
		</div>
	</div>
	</div>
<br/>
<br/>
<div style="display:inline-block;white-space: nowrap; float:right">
	@using (Html.BeginForm("Upload", "Home", FormMethod.Post, new { enctype = "multipart/form-data", style="display:inline-block" }))
	{
	<label style="display:inline-block; border:0px; font-weight: lighter; background: white;" class="ui-state-default">Upload product</label>
	<input style="display:inline-block" type="file" name="file" />
	<input style="display:inline-block" type="submit" value="OK" />
	}
</div>
@using (Html.BeginForm(null, null, FormMethod.Get, new { id = "productsform" }))
	{
	<input type="button" id="download" value="Download"/>
	<input type="button" id="open" value="Open File" onclick="javascript:document.location='../../TreeView/Edit?product=Plastic Face'"/>
	<input type="button" value="New" onclick="javascript:document.location='../../TreeView/Edit?product=new'"/>	
	<br />
	<br />
}
    
<script type="text/javascript">
	//const ipcRenderer = window.require('electron').ipcRenderer;
  	 $(function() {
	    $( "input[type=submit], button" )
	      .button();
        $( "input[type=button], button" )
	      .button();
	  });

	
     /*(function(){
		const { ipcRenderer } = require("electron");
        const fs = require('fs');

		document.getElementById("open")
                .addEventListener("click", () => {
            ipcRenderer.send("open-folder");
        });
	});*/




	(function ($) {
	    $.fn.styleTable = function (options) {
	        var defaults = {
	            css: 'ui-styled-table'
	        };
	        options = $.extend(defaults, options);

	        return this.each(function () {
	            $this = $(this);
	            $this.addClass(options.css);

	           
	           	
	            $this.find("th").addClass("ui-state-default");
	            $this.find("td").addClass("ui-widget-content");
	            $this.find("tr:last-child").addClass("last-child");
	        });
	    };
	})(jQuery);

	$("#Products").styleTable();
	
	//Download products
	$('#download').click(function () {
		document.location = "/MyProducts/Download?" + $('#productsform').serialize();

	});  

    /*(function(){
		const { ipcRenderer } = require("electron");
		 //Open Folder
    	document.getElementById("open")
                .addEventListener("click", () => {
            ipcRenderer.send("open-folder");
		});
		ipcRenderer.on('sel-dir', (event, path) => {
			const message = `This app is located at: ${path}`;
			alert(message);   
		})
    });*/



</script>
